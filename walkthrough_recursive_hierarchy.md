# Walkthrough: 孫階層以降の資産表示対応

資産の親子関係が3階層以上（親 > 子 > 孫...）になる場合でも、正しく全ての階層が表示されるように改修しました。

## 変更内容

- **サーバーサイド (`app/actions/categories.ts`)**:
  - `getCategories` アクションを再帰的（Recursive）な処理に変更。
  - 孫やひ孫の階層であっても、親の下に正しく紐付けられてリストに含まれるようにしました。
  - 各資産に対して、ルートからの深さを示す `depth` プロパティを付与するようにしました。
- **資産管理画面 (`app/assets/page.tsx`)**:
  - `depth` に基づいた動的なインデント（左側の余白）を導入しました。
  - 親ならインデントなし、子なら少し右へ、孫ならさらに右へ、と階層が視覚的にわかるようになりました。
- **ダッシュボード (`components/dashboard/category-list.tsx`)**:
  - カテゴリカード内の子要素表示を再帰的にレンダリングするように変更。
  - 孫階層の資産も、適切な点線の下に表示されるようになりました。

## 再現・確認手順

1. **多階層データの作成**:
   - 資産管理画面で、既存の「子アセット」を親に指定した「孫アセット」を作成します。
2. **資産管理画面での確認**:
   - 階層がズレて（インデントされて）表示されていることを確認します。
3. **ダッシュボードでの確認**:
   - 親カードの中に、子・孫がツリー状に全て表示されていることを確認します。
